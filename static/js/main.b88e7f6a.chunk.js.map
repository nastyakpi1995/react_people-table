{"version":3,"sources":["Person.js","PeopleTable.js","App.js","index.js"],"names":["Person","_ref","person","handleSelect","selected","react_default","a","createElement","key","name","className","classNames","PeopleTable__row--selected","people__old_65","died","born","onClick","id","PeopleTable__row","people__Born--Before_1650","people__Died--Before_1800","person--male","sex","person--female","mother","person--father","children","length","father","age","Object","defineProperty","concat","century","join","PeopleTable","state","selectedPersonId","_this2","this","people","props","map","src_Person","setState","React","Component","getFromServerPeople","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","fetch","then","respose","json","stop","apply","arguments","sortBy","sortField","callback","personA","personB","localeCompare","toConsumableArray","sort","App","visualPeople","handleText","someTyp","value","target","_this","prevState","filter","toLowerCase","includes","handleSortReverse","reverse","handleSort","field","getPeople","index","objectSpread","Math","ceil","kidd","htmlFor","type","onChange","src_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.b88e7f6a.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './App.css';\nimport classNames from 'classnames/bind';\n\nconst Person = ({ person, handleSelect, selected }) => (\n  <tr\n    key={person.name}\n    className={classNames({\n      'PeopleTable__row--selected': selected,\n      people__old_65: ((person.died - person.born) > 65),\n    })}\n    onClick={handleSelect}\n  >\n    <td>\n      {person.id}\n    </td>\n    <td\n      className={classNames({\n        PeopleTable__row: true,\n        'people__Born--Before_1650': person.born < 1650,\n        'people__Died--Before_1800': person.died > 1800,\n      })}\n    >\n      {person.name}\n    </td>\n    <td\n      className={classNames({\n        PeopleTable__row: true,\n        'person--male': person.sex === 'm',\n        'person--female': person.sex === 'f',\n      })}\n    >\n      {person.sex}\n    </td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td>{person.mother}</td>\n    <td\n      className={classNames({\n        'person--father': person.sex === 'm' && person.children.length > 0,\n      })}\n    >\n      {person.father}\n    </td>\n    <td>{person.age}</td>\n    <td\n      className={classNames({\n        PeopleTable__row: true,\n        [`person--lived-in-${person.century}`]: true,\n      })}\n    >\n      {person.century}\n    </td>\n    <td>\n      {person.children.join(', ')}\n    </td>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.shape({\n    sex: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    mother: PropTypes.string.isRequired,\n    father: PropTypes.string.isRequired,\n    age: PropTypes.number.isRequired,\n    century: PropTypes.number.isRequired,\n    children: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\nimport Person from './Person';\nimport './App.css';\n\nclass PeopleTable extends React.Component {\n  state = {\n    selectedPersonId: null,\n  }\n\n  render() {\n    const { people } = this.props;\n    const { selectedPersonId } = this.state;\n\n    return (\n      <table\n        className={classNames({\n          PeopleTable: true,\n        })}\n      >\n        <thead>\n          <tr className=\"PeopleTable__thead\">\n            <th>id</th>\n            <th>name</th>\n            <th>sex</th>\n            <th>born</th>\n            <th>died</th>\n            <th>mother</th>\n            <th>father</th>\n            <th>age</th>\n            <th>century</th>\n            <th>children</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map(person => (\n            <Person\n              person={person}\n              key={person.id}\n              selected={person.id === selectedPersonId}\n              handleSelect={() => {\n                this.setState({ selectedPersonId: person.id });\n              }}\n            />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default PeopleTable;\n","import React from 'react';\nimport './App.css';\nimport PeopleTable from './PeopleTable';\n\nconst getFromServerPeople = async() => {\n  const Api = 'https://mate-academy.github.io/react_people-table/api/';\n  return fetch(`${Api}/people.json`).then(respose => respose.json());\n};\n\nconst sortBy = (people, sortField) => {\n  const sortPeople = {\n    name: (personA, personB) => personA.name.localeCompare(personB.name),\n    age: (personA, personB) => personA.age - personB.age,\n    born: (personA, personB) => personA.born - personB.born,\n    died: (personA, personB) => personA.died - personB.died,\n    id: (personA, personB) => personA.id - personB.id,\n  };\n  const callback = sortPeople[sortField];\n\n  return [...people].sort(callback);\n};\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    sortField: 'name',\n    visualPeople: [],\n  }\n\n  async componentDidMount() {\n    const people = await getFromServerPeople();\n    const getPeople = [...people].map((person, index) => ({\n      ...person,\n      id: index + 1,\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n      children: [...people]\n        .filter(kidd => kidd.father === person.name\n    || kidd.mother === person.name)\n        .map(kidd => kidd.name),\n    }));\n\n    this.setState(prev => ({\n      people: [...getPeople],\n      visualPeople: sortBy(getPeople, prev.sortField),\n    }));\n  }\n\n  handleText = (someTyp) => {\n    const { value } = someTyp.target;\n\n    this.setState(prevState => ({\n      people: prevState.visualPeople.filter(\n        person => [person.mother, person.name, person.mother]\n          .join('').toLowerCase().includes(value.toLowerCase())\n      ),\n    }));\n  }\n\n  handleSortReverse = () => {\n    this.setState(prevState => ({\n      people: sortBy(prevState.people).reverse(),\n    }));\n  }\n\n  handleSort = (sortField) => {\n    const { sortField: field } = this.state;\n\n    sortField !== field\n      ? this.setState(prevState => ({\n        people: sortBy(prevState.people, sortField),\n        sortField,\n      }))\n      : this.handleSortReverse();\n  }\n\n  render() {\n    const { people } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1>\n        People table\n          { people.length }\n        </h1>\n        <label htmlFor=\"name__input\">\n            Filter by name:\n          <input\n            type=\"text\"\n            id=\"name__input\"\n            onChange={this.handleText}\n          />\n        </label>\n        <button\n          type=\"button\"\n          onClick={() => this.handleSort('id')}\n        >\n            Sort id\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => this.handleSort('name')}\n        >\n            Sort name\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => this.handleSort('age')}\n        >\n            Sort age\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => this.handleSort('born')}\n        >\n            Sort born\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => this.handleSort('died')}\n        >\n            Sort died\n        </button>\n        <PeopleTable people={people} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}